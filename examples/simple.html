<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>title</title>
<style>

  div {
    margin-bottom: 1em;
    background: silver;
  }

</style>
</head>
<body>
  <button id="button">Go</button>
  <div id='div1'></div>
  <div id='div2'></div>
  <div id='div3'></div>
  <script type="text/javascript" src="../lib/dom-batch.js"></script>
  <script>
    var dom = new DomBatch();

    var button = document.getElementById('button');
    var div1 = document.getElementById('div1');
    var div2 = document.getElementById('div2');
    var div3 = document.getElementById('div3');

    function go() {
      setAspect(div1);
      setAspect(div2);
      setAspect(div3);
    }

    function setAspect(div) {
      var aspect = 9/16;
      var h = div.clientWidth * aspect;
      div.style.height = h + 'px';
    }

    button.onclick = go;
  </script>
</body>
</html>